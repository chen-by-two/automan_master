{"name": "test_zjc_WorkLists_005", "status": "broken", "statusDetails": {"message": "TypeError: Object of type datetime is not JSON serializable", "trace": "self = <test_assistantappKwCases.Test_assistantapp object at 0x7f924d1ebca0>\n\n    \t@allure.feature(\"门店任务-完成线下拜访\")\n    \t@allure.severity(\"blocker\")\n    \tdef test_zjc_WorkLists_005(self):\n    \t\t# 读取yaml文件\n    \t\tyamlFile = ckw.CommonKeyWord().Yaml_Read(\"/Users/zoudw/PycharmProjects/automan/testFile/ZhangJunChao/zjctest.yaml\")\n    \t\t# 读取yaml里手机号\n    \t\tmobile = ckw.CommonKeyWord().Yaml_GetByKey(yamlFile,\"mobileAssistant\")\n    \t\t# 读取Yaml登录密码\n    \t\tpassword = ckw.CommonKeyWord().Yaml_GetByKey(yamlFile,\"password\")\n    \t\t# 读取Yaml执行环节\n    \t\tenv = ckw.CommonKeyWord().Yaml_GetByKey(yamlFile,\"env\")\n    \t\t# 登录获取token-调取接口\n    \t\tloginRes = bkw.assistantappApi_UserLogin({\"header\":{\"Content-Type\": \"application/json;charsetUTF-8\"},\"parma\":{},\"data\":{\"mobile\":mobile,\"code\":password},\"env\":env},\"dict\")\n    \t\t# 登录获取token-提取token\n    \t\ttoken = ckw.CommonKeyWord().Json_GetJsonValue(loginRes,[[\"data\",\"token\"]])\n    \t\t# 登录获取userid-提取userid\n    \t\tuserid = ckw.CommonKeyWord().Json_GetJsonValue(loginRes,[[\"data\",\"id\"]])\n    \t\t# 打印token到控制台\n    \t\tckw.CommonKeyWord().Print_ToControl(\"token：\",token)\n    \t\t# 打印token到日志\n    \t\tckw.CommonKeyWord().Print_ToLog(\"token：\",token)\n    \t\t# 读取yaml文件\n    \t\tyamlFile = ckw.CommonKeyWord().Yaml_Read(\"/Users/zoudw/PycharmProjects/automan/testFile/ZhangJunChao/zjctest.yaml\")\n    \t\t# 读取yaml查询任务数据idsql\n    \t\tGetinspectldsql = ckw.CommonKeyWord().Yaml_GetByKey(yamlFile,\"Getinspectld\")\n    \t\t# 打印查询结果到控制台\n    \t\tckw.CommonKeyWord().Print_ToControl(\"inspectldsql：\",Getinspectldsql)\n    \t\t# 打印查询结果到日志\n    \t\tckw.CommonKeyWord().Print_ToLog(\"inspectldsql：\",Getinspectldsql)\n    \t\t# mysql执行任意sql-查询Inspectid\n    \t\tWInspectid = ckw.CommonKeyWord().Db_ConfMysqlSelect(\"DATABASE_TEST_uniondrug_data_service\",Getinspectldsql)\n    \t\t# 开始门店任务-调取接口\n>   \t\tWInspectUpdate = bkw.assistantappApi_InspectUpdate({\"header\":{\"Content-Type\": \"application/json;charsetUTF-8\",\"Authorization\":\"Bearer \"+token},\"parma\":{},\"data\":{\n        \"address\": \"江苏省南京市雨花台区文竹路6号靠近金证南京科技园(装修中)\",\n        \"mapLat\": 31.971852,\n        \"images\": [\n            {\n                \"type\": \"1\",\n                \"url\": \"http://uniondrug-release.oss-cn-shanghai.aliyuncs.com/backend.assistant/kdmatv0nh01egs1847cv9f2bsu.jpg\"\n            },\n            {\n                \"type\": \"2\",\n                \"url\": \"http://uniondrug-release.oss-cn-shanghai.aliyuncs.com/backend.assistant/6or6ks7ivmnoabv2i074kc2a90.jpg\"\n            },\n            {\n                \"type\": \"2\",\n                \"url\": \"http://uniondrug-release.oss-cn-shanghai.aliyuncs.com/backend.assistant/fjlfe6l470bkfdjut5nkol8dja.jpg\"\n            },\n            {\n                \"type\": \"3\",\n                \"url\": \"http://uniondrug-release.oss-cn-shanghai.aliyuncs.com/backend.assistant/efsg761jj284d3jsjgm9kvcfm2.jpg\"\n            },\n            {\n                \"type\": \"3\",\n                \"url\": \"http://uniondrug-release.oss-cn-shanghai.aliyuncs.com/backend.assistant/m3vvlh2bl8umc1b6g15vgjm0tv.jpg\"\n            },\n            {\n                \"type\": \"5\",\n                \"url\": \"http://uniondrug-release.oss-cn-shanghai.aliyuncs.com/backend.assistant/7tue4rur23375hr465f1ntlglo.jpg\"\n            },\n            {\n                \"type\": \"5\",\n                \"url\": \"http://uniondrug-release.oss-cn-shanghai.aliyuncs.com/backend.assistant/42hnh8jloe32hb79ir7u3fi9h3.jpg\"\n            },\n            {\n                \"type\": \"4\",\n                \"url\": \"http://uniondrug-release.oss-cn-shanghai.aliyuncs.com/backend.assistant/r25tottrth47dfeg0qjedaorqv.jpg\"\n            }\n        ],\n        \"inspectId\": WInspectid,\n        \"remark\": \"\",\n        \"summary\": [\n            \"1\",\n            \"2\",\n            \"3\",\n            \"4\"\n        ],\n        \"storeId\": \"4338\",\n        \"mapLon\": 118.77937\n    },\"env\":env},\"dict\")\n\ntestCase/assistantapp/test_assistantappKwCases.py:2189: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nKeyWordDriver/BusinesskeyWord.py:962: in assistantappApi_InspectUpdate\n    return __defult(met, p, t)\nKeyWordDriver/BusinesskeyWord.py:223: in __defult\n    res = met.excute()\nApiLib/assistantapp/assistantappApi.py:1068: in excute\n    self.response = self.run(1)\nCommon/HttpHandler.py:35: in run\n    httpExcute.set_data(json.dumps(self.data))\n/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/__init__.py:231: in dumps\n    return _default_encoder.encode(obj)\n/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/encoder.py:199: in encode\n    chunks = self.iterencode(o, _one_shot=True)\n/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/encoder.py:257: in iterencode\n    return _iterencode(o, 0)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <json.encoder.JSONEncoder object at 0x7f924c2a9a60>\no = datetime.datetime(2021, 5, 20, 16, 46, 27)\n\n    def default(self, o):\n        \"\"\"Implement this method in a subclass such that it returns\n        a serializable object for ``o``, or calls the base implementation\n        (to raise a ``TypeError``).\n    \n        For example, to support arbitrary iterators, you could\n        implement default like this::\n    \n            def default(self, o):\n                try:\n                    iterable = iter(o)\n                except TypeError:\n                    pass\n                else:\n                    return list(iterable)\n                # Let the base class default method raise the TypeError\n                return JSONEncoder.default(self, o)\n    \n        \"\"\"\n>       raise TypeError(f'Object of type {o.__class__.__name__} '\n                        f'is not JSON serializable')\nE       TypeError: Object of type datetime is not JSON serializable\n\n/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/encoder.py:179: TypeError"}, "attachments": [{"name": "log", "source": "d4f98838-97c1-40bd-8a9f-21830ad4aead-attachment.txt", "type": "text/plain"}], "start": 1621500387443, "stop": 1621500387690, "uuid": "792e888a-0dbe-460d-b48b-2529cfbec17f", "historyId": "949991ac557d40121b3fbd440476b955", "testCaseId": "67511d90c397bb9642d0583113ec9d98", "fullName": "testCase.assistantapp.test_assistantappKwCases.Test_assistantapp#test_zjc_WorkLists_005", "labels": [{"name": "severity", "value": "blocker"}, {"name": "feature", "value": "门店任务-完成线下拜访"}, {"name": "parentSuite", "value": "testCase.assistantapp"}, {"name": "suite", "value": "test_assistantappKwCases"}, {"name": "subSuite", "value": "Test_assistantapp"}, {"name": "host", "value": "localhost"}, {"name": "thread", "value": "3049-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testCase.assistantapp.test_assistantappKwCases"}]}